@model MentalSelf.Models.ViewModels.IndexChartViewModel


<!DOCTYPE HTML>
    <html>
    <head>
        <script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
	theme: "light2", // "light1", "light2", "dark1", "dark2"
	exportEnabled: true,
	animationEnabled: true,
	title: {
		text: "Previous Test Results",
		fontSize: 21
	},
	data: [{
		type: "pie",
		startAngle: 160,
		toolTipContent: "<b>{label}</b>: {y}%",
		indexLabel: "{label} - {y}%",
		dataPoints: @Html.Raw(ViewBag.DataPoints)
	}]
});
chart.render();

}
        </script>
    </head>
    <body>
        <div id="chartContainer" style="height: 370px; width: 100%;"></div>
        <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
        <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    </body>
</html>


<table class="table">
    <tbody>
        
        @foreach (var item in Model.UserTest)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.DateTaken)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Test.Title)
                </td>
                <td>
                    <a asp-action="Details" asp-route-id="@item.UserTestId">Details</a> |
                    <a asp-action="Delete" asp-route-id="@item.TestId">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>
