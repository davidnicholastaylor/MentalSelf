@model MentalSelf.Models.ViewModels.QuestionResponseViewModel

@{
    ViewData["Title"] = "Level 1 General Symptom Measure Adult";
    ViewData["Message"] = "In the past two weeks, have you experienced any of the following problems?";
}


<h2>@ViewData["Title"]</h2>
<br />
<h4>@ViewData["Message"]</h4>

<table class="table">
    <tbody>
        <tr>
            <td class="col-md-10">
                <form method="post" asp-action="Create" asp-controller="Tests">
                    <div asp-validation-summary="ModelOnly"></div>
                    <div asp-for="@Model.UserTest.TestId">
                        @for (var i = 0; i < Model.Questions.Count; i++)
                        {
                            <div class="row">
                                <input type="hidden" asp-for="@Model.Responses[i].QuestionId" value="@Model.Questions[i].QuestionId" />
                                <h3>@Model.Questions[i].QuestionDesc</h3>
                            </div>
                            @for (var r = 0; r < Model.UserResponses.Count; r++)
                            {
                                <div class="row">
                                    <input asp-for="@Model.Responses[i].UserResponseId"
                                           id=@($"rating-{i}-{r}")
                                           value="@(Model.UserResponses[r].UserResponseId)"
                                           type="radio" />
                                    <label for=@($"rating-{i}-{r}")>
                                        @(Model.UserResponses[r].Rating)
                                    </label>
                                </div>
                            }
                            <br />
                            <br />
                        }
                    </div>
                    <div style="text-align: center">
                        <input type="submit" value="Submit" class="btn btn-success btn-lg" />
                    </div>
</form>
            </td>
        </tr>
    </tbody>
</table>


<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

